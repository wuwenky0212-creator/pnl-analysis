# 🔍 检查部署日志 - 健康检查失败

## ❌ 问题

健康检查失败，尝试了14次都显示 "service unavailable"

这说明：
- ✅ 构建成功
- ✅ 部署成功
- ❌ 应用可能没有正确启动，或者端口配置有问题

---

## 🔍 需要检查

### 1. 查看部署日志（Deploy Logs）

在Railway中：
1. 点击 **"Deploy Logs"** 标签（不是Build Logs）
2. 查看应用启动日志
3. 看看是否有错误信息

**告诉我你看到了什么？**

---

## 🔧 可能的问题和解决方案

### 问题1：应用没有启动

**检查**：查看Deploy Logs，看看是否有：
- `Application startup complete`
- `Uvicorn running on http://0.0.0.0:8002`
- 或者任何错误信息

### 问题2：端口配置问题

Railway可能使用了不同的端口。检查：
1. 在Railway服务设置中，查看 **"Variables"**
2. 确认 `PORT` 环境变量的值
3. Railway可能会自动设置 `PORT` 环境变量

### 问题3：健康检查路径配置

Railway可能需要配置健康检查路径：
1. 在服务设置中，查看 **"Settings"** → **"Healthcheck"**
2. 健康检查路径应该是：`/health`
3. 或者尝试：`/api/portfolios`

---

## 🚀 快速修复方案

### 方案1：检查并配置Railway健康检查

1. 在Railway中，点击 `fx-attribution-backend` 服务
2. 点击 **"Settings"** 标签
3. 找到 **"Healthcheck"** 部分
4. 配置：
   - **Path**: `/health`
   - **Port**: 留空（使用默认）
   - **Timeout**: 30s

### 方案2：修改健康检查端点

如果Railway的健康检查配置不起作用，可能需要：
1. 使用根路径 `/` 作为健康检查
2. 或者使用 `/api/portfolios`

---

## 📋 现在请做

1. **点击 "Deploy Logs" 标签**（在Build Logs旁边）
2. **查看应用启动日志**
3. **告诉我你看到了什么错误或信息**

这样我可以更准确地诊断问题！


