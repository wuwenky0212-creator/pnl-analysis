# ⚡ Railway部署 - 快速开始

## 你的GitHub账号
**wuwenky0212-creator**

---

## 📍 在哪里执行命令？

**在项目目录执行**：`d:\workspace\损益归因分析`

### 打开PowerShell的方式：

1. **方法1**：在文件夹中右键 > "在此处打开PowerShell窗口"
2. **方法2**：Win+R，输入 `powershell`，然后：
   ```powershell
   cd "d:\workspace\损益归因分析"
   ```

---

## 🚀 3步完成部署

### 步骤1：准备GitHub仓库（5分钟）

#### 1.1 在浏览器创建仓库

访问：https://github.com/new

- 仓库名：`pnl-analysis`
- 选择：Public
- 点击 Create repository

#### 1.2 在PowerShell执行命令

```powershell
# 进入项目目录
cd "d:\workspace\损益归因分析"

# 初始化Git
git init

# 添加文件
git add .

# 提交
git commit -m "准备部署"

# 添加远程仓库
git remote add origin https://github.com/wuwenky0212-creator/pnl-analysis.git

# 推送
git branch -M main
git push -u origin main
```

**如果提示需要登录**：
- 用户名：`wuwenky0212-creator`
- 密码：使用GitHub Personal Access Token
  - 生成地址：https://github.com/settings/tokens
  - 勾选 `repo` 权限

---

### 步骤2：部署到Railway（10分钟）

#### 2.1 注册Railway

1. 访问：https://railway.app
2. 点击 "Login with GitHub"
3. 授权登录

#### 2.2 部署后端

1. 点击 "New Project"
2. 选择 "Deploy from GitHub repo"
3. 选择仓库：`wuwenky0212-creator/pnl-analysis`
4. 等待部署（2-5分钟）

#### 2.3 配置环境变量

在服务设置 > Variables，添加：
```
PORT=8002
HOST=0.0.0.0
DEBUG=False
DATA_FORMAT=mock
```

#### 2.4 获取后端URL

在服务设置 > Domains，点击 "Generate Domain"
复制生成的URL，例如：`https://pnl-analysis.railway.app`

---

### 步骤3：配置前端（5分钟）

#### 3.1 修改前端配置

编辑 `frontend/index.html`，在 `<head>` 中取消注释：

```html
<meta name="backend-url" content="https://你的后端URL.railway.app">
```

#### 3.2 提交更新

```powershell
git add frontend/index.html
git commit -m "配置后端API"
git push
```

#### 3.3 部署前端

在Railway项目中：
1. 点击 "New" > "Empty Service"
2. Source: 选择同一个仓库
3. Root Directory: `frontend`
4. 点击 Deploy
5. 生成前端域名

---

## ✅ 完成！

访问前端URL，任何人都可以访问你的应用了！

---

## 📖 详细文档

- 完整步骤：`Railway部署步骤-详细版.md`
- 常见问题：查看文档中的FAQ部分

---

**开始部署吧！** 🚀

